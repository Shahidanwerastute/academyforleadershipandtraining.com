$(function() {    // crud table    if ($('#records').length) records.init();});records = {    init: function() {        $('#records').jtable({            title: 'Manage Blogs',            paging: true //Enable paging                ,            messages: {                addNewRecord: 'Add new blog',                editRecord: 'Edit blog',                areYouSure: 'Are you sure?',            },            pageSize: 10 //Set page size (default: 10)                ,            sorting: false,            addRecordButton: $('#recordAdd'),            deleteConfirmation: function(data) {                data.deleteConfirmMessage = 'Are you sure to delete blog ' + data.record.title + '?';            },            formCreated: function(event, data) {				/*Upload Image*/				data.form.attr('enctype', 'multipart/form-data');								var image_top_params = {    					id: (data.formType == "edit" ? data.record.id : ''),					width: '400',					height: 'auto',					allowed_types: "*.(jpg|jpeg|gif|png)",					route: upload,					selector: ".image_top",					formType: data.formType,					table: 'blog',					field: 'image_top',					dir: 'public/assets/admin/images/blog/',				}				bind_upload_image(image_top_params);								var image_bottom_params = {    					id: (data.formType == "edit" ? data.record.id : ''),					width: '400',					height: 'auto',					allowed_types: "*.(jpg|jpeg|gif|png)",					route: upload,					selector: ".image_bottom",					formType: data.formType,					table: 'blog',					field: 'image_bottom',					dir: 'public/assets/admin/images/blog/',				}				bind_upload_image(image_bottom_params);				                reInitDesign(event, data);            },            actions: {                listAction: _listing,                createAction: _create,                updateAction: _update,                deleteAction: _delete            },            fields: {                id: {                    key: true,                    create: false,                    edit: false,                    list: false                },                title: {                    title: 'Title',                    create: true,                    edit: true,                    list: true,                    type: 'text'                },  				description_top: {					title: 'Top Description'					, create: true					, edit: true					, list: false					, inputClass: 'defaultRichHtml'					, type: 'textarea'					, sorting: false				}, 				image_top: {					title: 'Top Image',					input: function(data) {						html = '<div class="uk-grid file_upload image_top">';							html += '<div class="uk-width-1-1">';							html += '<div class="uk-file-upload file_upload-drop uk-margin-medium-bottom">';							html += '<p class="uk-text">Drop file to upload</p>';							html += '<p class="uk-text-muted uk-text-small uk-margin-small-bottom">or</p>';							html += '<a class="uk-form-file md-btn">choose file<input class="file_upload-select" type="file"></a>';							if (data.formType == "edit") {								html += '<input type="hidden" name="image_top" value="' + data.record.image_top + '">';							} else {								html += '<input type="hidden" name="image_top" value="">';							}							html += '</div>';							if(data.formType == "edit") {								html+='<div class="thumb_file" style="width:30px;height:30px;"><a target="_blank" href="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_top+'"><img src="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_top+'" title="Click to open in new window" /></a></div>'							} else {								html+='<div class="thumb_file" style = "width:30px;height:30px;display:none;" ><a target="_blank" href=""><img src="" title="Click to open in new window" /></a></div>'							}							html += '<div class="uk-progress uk-hidden file_upload-progressbar">';							html += '<div class="uk-progress-bar" style="width:0">0%</div>';							html += '</div>';							html += '</div>';							html += '</div>';							return html;					},					display: function(data) { 						if(data.record.image_top != null && data.record.image_top != "null") {							return '<div class="thumb_file" style="width:20px;height:20px;"><a target="_blank" href="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_top+'"><img src="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_top+'" title="Click to open in new window" /></a></div>';						}					} 				},  				description_bottom: {					title: 'Bottom Description'					, create: true					, edit: true					, list: false					, inputClass: 'defaultRichHtml'					, type: 'textarea'					, sorting: false				}, 				image_bottom: {					title: 'Bottom Image',					input: function(data) {						html = '<div class="uk-grid file_upload image_bottom">';							html += '<div class="uk-width-1-1">';							html += '<div class="uk-file-upload file_upload-drop uk-margin-medium-bottom">';							html += '<p class="uk-text">Drop file to upload</p>';							html += '<p class="uk-text-muted uk-text-small uk-margin-small-bottom">or</p>';							html += '<a class="uk-form-file md-btn">choose file<input class="file_upload-select" type="file"></a>';							if (data.formType == "edit") {								html += '<input type="hidden" name="image_bottom" value="' + data.record.image_bottom + '">';							} else {								html += '<input type="hidden" name="image_bottom" value="">';							}							html += '</div>';							if(data.formType == "edit") {								html+='<div class="thumb_file" style="width:30px;height:30px;"><a target="_blank" href="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_bottom+'"><img src="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_bottom+'" title="Click to open in new window" /></a></div>'							} else {								html+='<div class="thumb_file" style = "width:30px;height:30px;display:none;" ><a target="_blank" href=""><img src="" title="Click to open in new window" /></a></div>'							}							html += '<div class="uk-progress uk-hidden file_upload-progressbar">';							html += '<div class="uk-progress-bar" style="width:0">0%</div>';							html += '</div>';							html += '</div>';							html += '</div>';							return html;					},					display: function(data) { 						if(data.record.image_bottom != null && data.record.image_bottom != "null") {							return '<div class="thumb_file" style="width:20px;height:20px;"><a target="_blank" href="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_bottom+'"><img src="'+base_url+'/public/assets/admin/images/blog/'+data.record.image_bottom+'" title="Click to open in new window" /></a></div>';						}					} 				},				meta_title: {					title: 'Meta Title',					create: true,					edit: true,					list: false,					type: 'text'				},				meta_description: {					title: 'Meta Description',					create: true,					edit: true,					list: false,					type: 'text'				}			}        }).jtable('load');        $('.ui-dialog-buttonset').children('button').attr('class', '').addClass('md-btn md-btn-flat').off('mouseenter focus');        $('#AddRecordDialogSaveButton,#EditDialogSaveButton,#DeleteDialogButton').addClass('md-btn-flat-primary');        $('#search').click(function(e) {            e.preventDefault();            $('#records').jtable('load', {                name: $('[name=name]').val()            });        });    }};