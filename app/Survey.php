<?phpnamespace App;use Illuminate\Database\Eloquent\Model;use DB;use App\SurveyField;use App\Category;class Survey extends Model{	protected $table = 'survey';		protected $primaryKey = 'id';		public $timestamps = true;		protected $fillable = array('title', 'title_ar', 'description1', 'description1_ar', 'description2', 'description2_ar', 'active', 'group_id', 'slug', 'count');		public function questions()	{		$survey_id = $this->id;		$data = SurveyField::leftJoin('category', 'category.id', '=', 'survey_field.category_id')					->where('survey_field.survey_id', $survey_id)					->where('survey_field.active', 1)					->orderBy('is_extra', 'ASC')					->orderBy('display_order', 'ASC')					->select("survey_field.*")					->get();		return $data;	}	public function categories()	{		$group_id = $this->group_id;		$data = Category::where('group_id', $group_id)					->where('active', 1)					->orderBy('display_order', 'ASC')					->get();		return $data;	}	public function company()	{		return $this->belongsTo('App\Group', 'group_id');	}}?>